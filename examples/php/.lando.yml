name: php
services:

  nginx:

    # PHP version .1
    type: php

    # Served by the latest nginx
    via: nginx

    # Optionally specify a webroot if it is a subdirectory of the appRoot
    webroot: .

    # Optionally activate xdebug
    #
    # If you are having trouble getting xdebug to work please see:
    # https://docs.devwithlando.io/services/php.html#using-xdebug
    xdebug: true

    # Optionally customize the configuration for php and its underlying webserver
    # These paths are both relative to (and must reside within) the app root directory
    #
    # For some examples that use this fairly well please check out
    # https://github.com/lando/lando/tree/master/examples
    # config:
      # Use a custom apache config file
      # vhosts: config/apache.conf

      # Use a custom php.ini
      # This **should** load last which means you should be able to override
      # any previously set php settings.
      # php: config/php.ini

  # Create a php 5.3 instance served by the latest apache with https turned on
  apache:

    # PHP version 5.3
    type: php

    # Serve php by either apache or nginx. You can put in any `service:version`
    # string that is supported by Lando's nginx and apache services.
    via: apache

    # Optionally serve php over https
    # ssl: true

    # Optionally specify a webroot if it is a subdirectory of the appRoot
    webroot: web

    # Optionally customize the configuration for php and its underlying webserver
    # These paths are both relative to (and must reside within) the app root directory
    #
    # For some examples that use this fairly well please check out
    # https://github.com/lando/lando/tree/master/examples
    config:
      # Use a custom apache config file
      vhosts: config/apache.conf

      # Use a custom php.ini
      # This **should** load last which means you should be able to override
      # any previously set php settings.
      php: config/php.ini

    # Optionally activate xdebug
    #
    # If you are having trouble getting xdebug to work please see:
    # https://docs.devwithlando.io/services/php.html#using-xdebug
    xdebug: true

    # Optionally install the following composer dependencies globally
    # These follow the normal composer.json form
    # Note that many composer dependencies should not be installed globally but
    # on a per-project basis
    composer:
      drush/drush: "~8"

  cli:

    # PHP version 7.1
    type: php

    # Set to run in CLI mode
    via: cli

    # Optionally install the following composer dependencies globally
    # These follow the normal composer.json form
    # Note that many composer dependencies should not be installed globally but
    # on a per-project basis
    # composer:
    #   overtrue/phplint: '*'

    # Optionally activate xdebug
    #
    # If you are having trouble getting xdebug to work please see:
    # https://docs.devwithlando.io/services/php.html#using-xdebug
    # xdebug: true

    # Optionally mix in your own config files
    #
    # If ommitted this will use "sane defaults" for your recipe type
    # conf:

      # For more information on setting these files check out the documentation
      # and examples
      #
      # Docs: https://docs.devwithlando.io/services/php.html
      # Examples: https://github.com/lando/lando/tree/master/examples
      #
      # php: config/php.ini
